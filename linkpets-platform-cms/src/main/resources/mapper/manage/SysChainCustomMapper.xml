<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.linkpets.cms.manage.dao.SysChainCustomMapper">
    <resultMap id="BaseResultMap" type="com.linkpets.core.model.SysChain" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Apr 04 15:23:07 CST 2019.
        -->
        <result column="chain_id" property="chainId" jdbcType="VARCHAR" />
        <result column="chain_name" property="chainName" jdbcType="VARCHAR" />
        <result column="chain_address" property="chainAddress" jdbcType="VARCHAR" />
        <result column="chain_phone" property="chainPhone" jdbcType="VARCHAR" />
        <result column="chain_code" property="chainCode" jdbcType="VARCHAR" />
        <result column="org_id" property="orgId" jdbcType="VARCHAR" />
        <result column="oper_user_id" property="operUserId" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
        <result column="is_valid" property="isValid" jdbcType="INTEGER" />
    </resultMap>

    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Apr 04 10:42:35 CST 2019.
        -->
        chain_id, chain_name, chain_address,chain_phone,chain_code, org_id, oper_user_id, create_time, update_time, is_valid
    </sql>
    <select id="getSysChains" resultType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from sys_chain
        where org_id=#{orgId}
        <if test="chainName!='' and chainName!=null">
            and chain_name like CONCAT('%',#{chainName},'%')
        </if>
        and is_valid=1
    </select>

</mapper>